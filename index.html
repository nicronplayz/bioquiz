<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Biology Quiz</title>

<style>
/* =========================
   RESET & TYPOGRAPHY
========================= */
* {
  box-sizing: border-box;
  font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  color: #eaf1ff;
  background: #05070f;
  overflow-x: hidden;
}

/* =========================
   STARFIELD (BACKGROUND)
========================= */
canvas {
  position: fixed;
  inset: 0;
  z-index: -1;
}

/* =========================
   QUIZ CONTAINER
========================= */
.quiz {
  max-width: 880px;
  margin: 60px auto;
  padding: 36px 40px;
  background: rgba(12, 16, 32, 0.78);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow:
    0 40px 120px rgba(0,0,0,0.6),
    inset 0 1px 0 rgba(255,255,255,0.05);
}

/* =========================
   HEADER
========================= */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 18px;
}

.title {
  font-weight: 600;
  letter-spacing: 0.3px;
  opacity: 0.9;
}

.progress {
  font-size: 0.9rem;
  opacity: 0.6;
}

/* =========================
   QUESTION
========================= */
.question {
  font-size: clamp(1.25rem, 3vw, 1.9rem);
  line-height: 1.4;
  margin: 18px 0 30px;
  font-weight: 500;
}

/* =========================
   OPTIONS
========================= */
.options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 18px;
}

.option {
  padding: 16px 20px;
  border-radius: 14px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.02)
  );
  border: 1px solid rgba(255,255,255,0.1);
  cursor: pointer;
  transition:
    transform 0.15s ease,
    background 0.15s ease,
    border-color 0.15s ease;
}

.option:hover {
  transform: translateY(-2px);
  border-color: rgba(140,180,255,0.4);
}

.option.disabled {
  opacity: 0.45;
  pointer-events: none;
}

/* =========================
   FEEDBACK
========================= */
.feedback {
  margin-top: 26px;
  padding: 20px;
  border-radius: 14px;
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.08);
  line-height: 1.6;
  animation: fadeUp 0.3s ease;
}

.correct { color: #6dffcc; }
.wrong   { color: #ff8a8a; }

/* =========================
   BUTTON
========================= */
button {
  margin-top: 22px;
  padding: 12px 26px;
  border-radius: 12px;
  border: none;
  background: #1f3cff;
  color: white;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.15s ease;
}

button:hover {
  background: #3450ff;
}

/* =========================
   MOBILE
========================= */
@media (max-width: 640px) {
  .quiz {
    margin: 20px;
    padding: 26px;
  }
  .options {
    grid-template-columns: 1fr;
  }
}

/* =========================
   ANIMATIONS
========================= */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="quiz">
  <div class="header">
    <div class="title">Biology • Interactive Quiz</div>
    <div class="progress" id="progress"></div>
  </div>

  <div class="question" id="question">Loading…</div>
  <div class="options" id="options"></div>
  <div class="feedback" id="feedback" style="display:none"></div>
  <button id="next" style="display:none">Next Question</button>
</div>

<script>
/* =========================
   STARFIELD (MINIMAL)
========================= */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const stars = Array.from({ length: 120 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 1.2,
  s: Math.random() * 0.2 + 0.05
}));

(function animateStars() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "#ffffff";
  stars.forEach(star => {
    ctx.beginPath();
    ctx.arc(star.x, star.y, star.r, 0, Math.PI * 2);
    ctx.fill();
    star.y += star.s;
    if (star.y > canvas.height) star.y = 0;
  });
  requestAnimationFrame(animateStars);
})();

/* =========================
   QUIZ LOGIC
========================= */
let quiz = [];
let index = 0;
let locked = false;

const qEl = document.getElementById("question");
const oEl = document.getElementById("options");
const fEl = document.getElementById("feedback");
const nEl = document.getElementById("next");
const pEl = document.getElementById("progress");

fetch("questions.json")
  .then(r => r.json())
  .then(data => {
    quiz = data;
    load();
  });

function load() {
  locked = false;
  const q = quiz[index];
  qEl.textContent = q.question;
  pEl.textContent = `Question ${index + 1} / ${quiz.length}`;
  oEl.innerHTML = "";
  fEl.style.display = "none";
  nEl.style.display = "none";

  q.options.forEach((text, i) => {
    const div = document.createElement("div");
    div.className = "option";
    div.textContent = text;
    div.onclick = () => select(i);
    oEl.appendChild(div);
  });
}

function select(i) {
  if (locked) return;
  locked = true;

  const q = quiz[index];
  [...oEl.children].forEach(o => o.classList.add("disabled"));

  fEl.style.display = "block";
  fEl.innerHTML =
    i === q.answer
      ? `<div class="correct"><strong>Correct</strong></div><p>${q.explanation}</p>`
      : `<div class="wrong"><strong>Incorrect</strong></div>
         <p><strong>Correct answer:</strong> ${q.options[q.answer]}</p>
         <p>${q.explanation}</p>`;

  nEl.style.display = "inline-block";
}

nEl.onclick = () => {
  index++;
  if (index < quiz.length) load();
  else {
    qEl.textContent = "Quiz completed";
    oEl.innerHTML = "";
    fEl.style.display = "block";
    fEl.innerHTML = "You have reached the end of the quiz.";
    nEl.style.display = "none";
    pEl.textContent = "";
  }
};
</script>

</body>
</html>
